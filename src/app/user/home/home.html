<div class="home-layout">
<h1 style="color:red">HOME WORKS</h1>

  <div class="products-panel">

    <!-- Loading state -->
    <p *ngIf="loading" class="loading-text">Loading products...</p>

    <!-- Content -->
      <div class="home-container" *ngIf="!loading">


      <div *ngFor="let category of categories" class="category-section">

        <h2 class="category-title">{{ category.name }}</h2>

        <div class="product-row">

          <div class="product-card" *ngFor="let product of category.items">

            <div class="product-image">
              <img [src]="product.image" [alt]="product.name" />
            </div>

            <span class="quantity-badge">{{ product.quantity }}</span>

            <h3 class="product-name">{{ product.name }}</h3>

            <p class="product-price">₹{{ product.price }}</p>

            <div class="product-actions">

              <button
                *ngIf="getCount(product) === 0"
                class="add-btn"
                (click)="addProduct(product)">
                Add
              </button>

              <div *ngIf="getCount(product) > 0" class="qty-controller">
                <button class="qty-btn" (click)="decrease(product)">−</button>
                <span class="qty-count">{{ getCount(product) }}</span>
                <button class="qty-btn" (click)="increase(product)">+</button>
              </div>

            </div>

          </div>
        </div>
      </div>

    </div>

    <!-- Empty state -->
    <p *ngIf="!loading && categories.length === 0" class="loading-text">
      No products found
    </p>

  </div>

</div>

<app-cart-bar></app-cart-bar>
