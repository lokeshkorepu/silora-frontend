<div class="add-category-container">

  <h2 class="page-title">
    {{ isEditMode ? 'Edit Category' : 'Add Category' }}
  </h2>

  <div class="form-card">

    <!-- LEFT SIDE ‚Äì IMAGE -->
    <div class="image-section">

      <div class="image-preview">
        <img
          *ngIf="previewImage"
          [src]="previewImage"
          class="preview-img"
        />

        <span *ngIf="!previewImage" class="placeholder-text">
          Category Image
        </span>
      </div>

      <label class="upload-btn">
        Upload Image
        <input
          type="file"
          (change)="onFileSelected($event)"
          hidden
        />
      </label>

    </div>

    <!-- RIGHT SIDE ‚Äì FORM -->
    <div class="form-section">

      <div class="form-group">
        <label>Category Name</label>
        <input
          type="text"
          [(ngModel)]="name"
          placeholder="Enter category name"
          class="form-input"
        />
      </div>

    </div>

  </div>

  <!-- BUTTONS (same alignment as Product page) -->
  <div class="button-container">

    <button class="save-btn" (click)="save()">
      {{ isEditMode ? 'Update' : 'Save' }}
    </button>

    <button class="cancel-btn" type="button" (click)="cancel()">
      Cancel
    </button>

  </div>

  <!-- EXISTING CATEGORIES -->
  <div class="table-card">

    <div class="table-header">

  <h2 class="section-title">Existing Categories</h2>

  <input
    type="text"
    placeholder="Search categories..."
    [(ngModel)]="searchText"
    class="search-input"
  />

</div>


    @if (categories$ | async; as categories) {

      <table class="modern-table">

        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th style="text-align:center;">Actions</th>
          </tr>
        </thead>

        <tbody>

          @for (category of getFilteredCategories(categories); track category.id)
 {
            <tr>

              <td>
                <img
                  [src]="category.imageUrl"
                  class="table-img"
                />
              </td>

              <td>{{ category.name }}</td>

              <td class="action-cell">

                <button
                  class="icon-btn edit-btn"
                  (click)="editCategory(category)">
                  ‚úèÔ∏è
                </button>

                <button
                  class="icon-btn delete-btn"
                  (click)="deleteCategory(category)">
                  üóëÔ∏è
                </button>

              </td>

            </tr>
          }

        </tbody>

      </table>

    }

  </div>

</div>
