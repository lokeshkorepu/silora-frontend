import{a as mt,b as ut,c as gt,d as M,e as k,f as ft,g as S,h as U,i as q,j as W,k as Y,l as _,m as xt}from"./chunk-DL53JH66.js";import{$b as N,Aa as c,Ab as lt,Bb as L,Cb as A,Db as j,F as dt,La as C,Ra as u,U as T,Wa as f,Y as O,a as ct,ac as P,ca as x,cc as y,da as h,db as d,eb as i,fb as o,gb as b,hb as F,ib as H,ic as G,j as st,m as pt,mb as w,ob as g,pb as p,xb as r,ya as z,yb as B,zb as m}from"./chunk-ESGGRFI3.js";var I=class n{constructor(e){this.cartService=e;this.loadUser()}USER_KEY="logged_user";userSubject=new st(null);user$=this.userSubject.asObservable();loadUser(){let e=localStorage.getItem(this.USER_KEY);e&&this.userSubject.next(JSON.parse(e))}login(e){let t={id:"USER-"+Date.now(),name:"Lokesh",email:e.email};return localStorage.setItem(this.USER_KEY,JSON.stringify(t)),this.userSubject.next(t),this.cartService.mergeGuestCart?.(),pt(t).pipe(dt(600))}logout(){localStorage.removeItem(this.USER_KEY),this.userSubject.next(null),this.cartService.clearCart()}getCurrentUser(){return this.userSubject.value}isLoggedIn(){return!!this.userSubject.value}static \u0275fac=function(t){return new(t||n)(O(_))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})};function _t(n,e){if(n&1&&(i(0,"div",27),r(1),o()),n&2){let t=p(2);c(),m(" ",t.error," ")}}function vt(n,e){if(n&1){let t=w();i(0,"div",19)(1,"div",20)(2,"span"),r(3,"Choose delivery location"),o(),i(4,"button",21),g("click",function(){x(t);let s=p();return h(s.togglePopup())}),r(5,"\u2715"),o()(),i(6,"button",22),g("click",function(){x(t);let s=p();return h(s.fetchLocation())}),r(7," \u{1F4CD} Detect my location "),o(),f(8,_t,2,1,"div",23),i(9,"div",24),r(10,"OR"),o(),i(11,"input",25),j("ngModelChange",function(s){x(t);let l=p();return A(l.searchQuery,s)||(l.searchQuery=s),h(s)}),o(),i(12,"button",26),g("click",function(){x(t);let s=p();return h(s.searchLocation())}),r(13," Confirm location "),o()()}if(n&2){let t=p();c(8),d("ngIf",t.error),c(3),L("ngModel",t.searchQuery)}}function yt(n,e){n&1&&(i(0,"button",28),r(1,` Admin
`),o())}function St(n,e){if(n&1&&(i(0,"span",29),r(1),o()),n&2){let t=p();c(),m(" ",t.cartCount," ")}}function wt(n,e){if(n&1){let t=w();i(0,"div",30)(1,"div",31)(2,"h3"),r(3,"Login"),o(),b(4,"input",32)(5,"input",33),i(6,"div",34)(7,"button",35),g("click",function(){x(t);let s=p();return h(s.toggleLogin())}),r(8," Cancel "),o(),i(9,"button",36),g("click",function(){x(t);let s=p();return h(s.login())}),r(10," Login "),o()()()()}}var K=class n{constructor(e,t){this.cartService=e;this.authService=t}userLocation="Detecting location...";showPopup=!1;showLocationPopup=!1;showLoginPopup=!1;searchQuery="";error="";placeholders=['Search "bread"','Search "milk"','Search "eggs"','Search "fruits"','Search "rice"','Search "vegetables"','Search "snacks"','Search "chocolates"','Search "drinks"'];typedText="";placeholderIndex=0;charIndex=0;isDeleting=!1;cartCount=0;cartSub;get isLoggedIn(){return this.authService.isLoggedIn()}get userName(){return this.authService.getCurrentUser()?.name||""}ngOnInit(){this.startTyping(),this.cartSub=this.cartService.cartItems$.subscribe(e=>{this.cartCount=e.reduce((t,a)=>t+(a.count||0),0)})}ngOnDestroy(){this.cartSub?.unsubscribe()}togglePopup(){this.showPopup=!this.showPopup}toggleLogin(){this.showLoginPopup=!this.showLoginPopup}toggleLocationPopup(){this.showLocationPopup=!this.showLocationPopup}closeDialog(){this.showLocationPopup=!1}fetchLocation(){if(!navigator.geolocation){this.error="Geolocation not supported";return}navigator.geolocation.getCurrentPosition(()=>{this.userLocation="Location detected",this.error=""},()=>{this.userLocation="Location unavailable",this.error="Permission denied"})}searchLocation(){alert(`Searching for: ${this.searchQuery}`),this.showLocationPopup=!1}startTyping(){let e=this.placeholders[this.placeholderIndex];this.isDeleting?(this.typedText=e.substring(0,this.charIndex-1),this.charIndex--,this.charIndex===0&&(this.isDeleting=!1,this.placeholderIndex=(this.placeholderIndex+1)%this.placeholders.length)):(this.typedText=e.substring(0,this.charIndex+1),this.charIndex++,this.charIndex===e.length&&setTimeout(()=>this.isDeleting=!0,1e3)),setTimeout(()=>this.startTyping(),this.isDeleting?60:90)}login(){console.log("LOGIN CLICKED"),this.authService.login({email:"test@admin.com",password:"123456"}).subscribe(()=>{this.showLoginPopup=!1})}get isAdmin(){let e=this.authService.getCurrentUser();return!!e&&e.email.endsWith("@admin.com")}static \u0275fac=function(t){return new(t||n)(C(_),C(I))};static \u0275cmp=u({type:n,selectors:[["app-header"]],decls:28,vars:6,consts:[[1,"header"],[1,"left"],["src","/logos/Silora3.png","alt","Silora Logo",1,"logo"],[1,"location-wrapper"],[1,"location-card",3,"click"],[1,"location-title"],[1,"location-subtitle"],[1,"arrow"],["class","location-dropdown",4,"ngIf"],[1,"search-box"],["type","text",1,"search-input",3,"placeholder"],[1,"search-icon"],[1,"right"],["class","admin-btn","routerLink","/admin/orders",4,"ngIf"],[1,"login-btn",3,"click"],["routerLink","/cart",1,"cart-btn"],["class","cart-badge",4,"ngIf"],["routerLink","/orders",1,"orders-btn"],["class","login-overlay",4,"ngIf"],[1,"location-dropdown"],[1,"dropdown-header"],[1,"close-btn",3,"click"],[1,"detect-btn",3,"click"],["class","error-text",4,"ngIf"],[1,"divider"],["type","text","placeholder","Search area, street, landmark",1,"location-input",3,"ngModelChange","ngModel"],[1,"confirm-btn",3,"click"],[1,"error-text"],["routerLink","/admin/orders",1,"admin-btn"],[1,"cart-badge"],[1,"login-overlay"],[1,"login-modal"],["type","email","placeholder","Email","value","test@admin.com","disabled",""],["type","password","placeholder","Password","value","123456","disabled",""],[1,"login-actions"],[1,"cancel-btn",3,"click"],[1,"login-submit",3,"click"]],template:function(t,a){t&1&&(i(0,"header",0)(1,"div",1),b(2,"img",2),i(3,"div",3)(4,"div",4),g("click",function(){return a.togglePopup()}),i(5,"div",5),r(6," Delivery in "),i(7,"b"),r(8,"10 mins"),o()(),i(9,"div",6),r(10),i(11,"span",7),r(12,"\u25BC"),o()()(),f(13,vt,14,2,"div",8),o()(),i(14,"div",9),b(15,"input",10),i(16,"span",11),r(17,"\u{1F50D}"),o()(),i(18,"div",12),f(19,yt,2,0,"button",13),i(20,"button",14),g("click",function(){return a.toggleLogin()}),r(21,` Login
`),o(),i(22,"button",15),r(23," \u{1F6D2} Cart "),f(24,St,2,1,"span",16),o(),i(25,"button",17),r(26," Orders "),o()(),f(27,wt,11,0,"div",18),o()),t&2&&(c(10),m(" ",a.userLocation," "),c(3),d("ngIf",a.showPopup),c(2),d("placeholder",a.typedText),c(4),d("ngIf",a.isAdmin),c(5),d("ngIf",a.cartCount>0),c(3),d("ngIf",a.showLoginPopup))},dependencies:[y,P,Y,U,q,W,S,k],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 24px;background:#fff;box-shadow:0 2px 10px #00000014;position:sticky;top:0;z-index:100}.left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.logo[_ngcontent-%COMP%]{height:42px}.location-card[_ngcontent-%COMP%]{background:#f7f7f7;padding:10px 14px;border-radius:12px;cursor:pointer}.location-title[_ngcontent-%COMP%]{font-size:13px;font-weight:600}.location-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#555}.arrow[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.search-box[_ngcontent-%COMP%]{flex:1;max-width:420px;display:flex;align-items:center;background:#f2f2f2;border-radius:14px;padding:10px 14px;margin:0 40px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent}.right[_ngcontent-%COMP%]{display:flex;gap:16px}.login-btn[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px 16px;border-radius:10px;background:#fff}.cart-btn[_ngcontent-%COMP%]{position:relative}.cart-badge[_ngcontent-%COMP%]{background:red;color:#fff;border-radius:50%;padding:2px 6px;font-size:11px;margin-left:6px}.location-wrapper[_ngcontent-%COMP%]{position:relative}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;z-index:999}.location-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);left:0;width:360px;background:#fff;border-radius:16px;padding:16px;box-shadow:0 12px 40px #0000002e;z-index:500;animation:_ngcontent-%COMP%_dropdownIn .2s ease}.dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:15px;margin-bottom:10px}.close-btn[_ngcontent-%COMP%]{border:none;background:none;font-size:18px;cursor:pointer}.detect-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#0a7cff;color:#fff;border:none;border-radius:12px;font-weight:600;cursor:pointer}.confirm-btn[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:12px;background:#00b35a;color:#fff;border:none;border-radius:12px;font-weight:600;cursor:pointer}.location-input[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:10px;border-radius:12px;border:1px solid #ccc}.divider[_ngcontent-%COMP%]{text-align:center;margin:12px 0;color:#888}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:8px}.login-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:1000}.login-modal[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;width:300px;display:flex;flex-direction:column;gap:12px}.login-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border-radius:6px;border:1px solid #ccc}.login-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.login-submit[_ngcontent-%COMP%]{background:#1a8f3c;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer}.cancel-btn[_ngcontent-%COMP%]{background:#eee;border:none;padding:6px 14px;border-radius:6px}.admin-btn[_ngcontent-%COMP%]{border:1px solid #333;background:#fff;padding:6px 12px;border-radius:6px;font-weight:500}@keyframes _ngcontent-%COMP%_dropdownIn{0%{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}"]})};var $=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=u({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,a){t&1&&b(0,"app-header")(1,"router-outlet")},dependencies:[gt,K],encapsulation:2})};var D=[{id:1,name:"Milk",price:28,image:"/products/Amul Buffalo A2 Milk.avif",quantity:"500ml",category:"Dairy",count:0},{id:2,name:"Bread",price:40,image:"/products/Bonn High Fibre Brown Bread.avif",quantity:"400g",category:"Bakery",count:0},{id:3,name:"Eggs",price:65,image:"/products/Eggs.avif",quantity:"6 pcs",category:"Eggs",count:0}];function Ot(n,e){if(n&1&&(i(0,"div",1)(1,"div",2)(2,"strong"),r(3),o(),i(4,"span"),r(5),o()(),i(6,"div",3),r(7," View Cart \u2192 "),o()()),n&2){let t=p();c(3),m("",t.cartService.getTotalCount()," items"),c(2),m("\u20B9",t.cartService.getTotalAmount())}}var J=class n{constructor(e){this.cartService=e}static \u0275fac=function(t){return new(t||n)(C(_))};static \u0275cmp=u({type:n,selectors:[["app-cart-bar"]],decls:1,vars:1,consts:[["class","cart-bar","routerLink","/cart",4,"ngIf"],["routerLink","/cart",1,"cart-bar"],[1,"cart-bar-left"],[1,"cart-bar-right"]],template:function(t,a){t&1&&f(0,Ot,8,2,"div",0),t&2&&d("ngIf",a.cartService.getTotalCount()>0)},dependencies:[y,P,S,k],styles:[".cart-bar[_ngcontent-%COMP%]{position:fixed;bottom:16px;left:50%;transform:translate(-50%);width:calc(100% - 32px);max-width:600px;background:#00b35a;color:#fff;padding:14px 18px;border-radius:14px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;box-shadow:0 10px 30px #00000040;z-index:999}.cart-bar-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px}.cart-bar-right[_ngcontent-%COMP%]{font-weight:700}"]})};function Pt(n,e){if(n&1){let t=w();i(0,"button",15),g("click",function(){x(t);let s=p().$implicit,l=p(2);return h(l.addProduct(s))}),r(1," Add "),o()}}function Mt(n,e){if(n&1){let t=w();i(0,"div",16)(1,"button",17),g("click",function(){x(t);let s=p().$implicit,l=p(2);return h(l.decrease(s))}),r(2," \u2212 "),o(),i(3,"span",18),r(4),o(),i(5,"button",19),g("click",function(){x(t);let s=p().$implicit,l=p(2);return h(l.increase(s))}),r(6," + "),o()()}if(n&2){let t=p().$implicit,a=p(2);c(),d("disabled",t.count===1),c(3),m(" ",a.getCount(t)," ")}}function kt(n,e){if(n&1&&(i(0,"div",6)(1,"div",7),b(2,"img",8),o(),i(3,"span",9),r(4),o(),i(5,"h3",10),r(6),o(),i(7,"p",11),r(8),o(),i(9,"div",12),f(10,Pt,2,0,"button",13)(11,Mt,7,2,"div",14),o()()),n&2){let t=e.$implicit,a=p(2);c(2),d("src",t.image,z)("alt",t.name),c(2),m(" ",t.quantity," "),c(2),m(" ",t.name," "),c(2),m(" \u20B9",t.price," "),c(2),d("ngIf",a.getCount(t)===0),c(),d("ngIf",a.getCount(t)>0)}}function It(n,e){if(n&1&&(i(0,"div",2)(1,"h2",3),r(2),o(),i(3,"div",4),f(4,kt,12,7,"div",5),o()()),n&2){let t=e.$implicit;c(2),m(" ",t.name," "),c(2),d("ngForOf",t.items)}}var X=class n{constructor(e){this.cartService=e}products=D;categories=[];ngOnInit(){this.groupByCategory(),this.syncWithCart()}syncWithCart(){let e=this.cartService.getCartItems();this.products.forEach(t=>{let a=e.find(s=>s.id===t.id);t.count=a?a.count:0})}groupByCategory(){let e=new Map;this.products.forEach(t=>{e.has(t.category)||e.set(t.category,[]),e.get(t.category).push(t)}),this.categories=Array.from(e.entries()).map(([t,a])=>({name:t,items:a}))}addProduct(e){this.cartService.addToCart(e)}increase(e){this.cartService.increase(e)}decrease(e){this.cartService.decrease(e)}getCount(e){return this.cartService.getProductCount(e.id)}static \u0275fac=function(t){return new(t||n)(C(_))};static \u0275cmp=u({type:n,selectors:[["app-home"]],decls:3,vars:1,consts:[[1,"home-container"],["class","category-section",4,"ngFor","ngForOf"],[1,"category-section"],[1,"category-title"],[1,"product-row"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-image"],[3,"src","alt"],[1,"quantity-badge"],[1,"product-name"],[1,"product-price"],[1,"product-actions"],["class","add-btn",3,"click",4,"ngIf"],["class","qty-controller",4,"ngIf"],[1,"add-btn",3,"click"],[1,"qty-controller"],[1,"qty-btn",3,"click","disabled"],[1,"qty-count"],[1,"qty-btn",3,"click"]],template:function(t,a){t&1&&(i(0,"div",0),f(1,It,5,2,"div",1),o(),b(2,"app-cart-bar")),t&2&&(c(),d("ngForOf",a.categories))},dependencies:[y,N,P,J],styles:[".home-container[_ngcontent-%COMP%]{padding-bottom:40px}.category-section[_ngcontent-%COMP%]{margin-bottom:36px}.category-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0 24px 14px}.product-row[_ngcontent-%COMP%]{display:flex;gap:16px;padding:0 24px;overflow-x:auto;scroll-behavior:smooth}.product-row[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.product-card[_ngcontent-%COMP%]{min-width:180px;max-width:180px;background:#fff;border-radius:16px;padding:14px;box-shadow:0 8px 20px #00000014;display:flex;flex-direction:column;transition:transform .2s ease,box-shadow .2s ease}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 14px 30px #0000001f}.product-image[_ngcontent-%COMP%]{height:130px;display:flex;align-items:center;justify-content:center;margin-bottom:6px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain}.quantity-badge[_ngcontent-%COMP%]{display:inline-block;font-size:11px;background:#eef2ff;color:#4f46e5;padding:4px 8px;border-radius:999px;margin:4px 0;width:fit-content}.product-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:6px 0 4px;line-height:1.3}.product-price[_ngcontent-%COMP%]{color:#0a7cff;font-weight:600;font-size:14px;margin-bottom:10px}.product-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:center}.add-btn[_ngcontent-%COMP%]{width:100%;height:38px;border-radius:10px;background:#00b35a;color:#fff;border:none;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.add-btn[_ngcontent-%COMP%]:hover{background:#00994d}.qty-controller[_ngcontent-%COMP%]{width:100%;height:38px;border-radius:10px;border:1.5px solid #00b35a;display:flex;align-items:center;justify-content:space-between;padding:0 12px}.qty-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;font-weight:600;color:#00b35a;cursor:pointer}.qty-btn[_ngcontent-%COMP%]:disabled{color:#ccc;cursor:not-allowed}.qty-count[_ngcontent-%COMP%]{font-weight:600;font-size:15px}"]})};var Z=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=u({type:n,selectors:[["app-login"]],decls:2,vars:0,template:function(t,a){t&1&&(F(0,"p"),r(1,"login works!"),H())},encapsulation:2})};function Dt(n,e){if(n&1){let t=w();i(0,"div",7)(1,"button",8),g("click",function(){x(t);let s=p();return h(s.clearCart())}),r(2," \u2715 Clear cart "),o()()}}function Tt(n,e){n&1&&(i(0,"div",9),r(1," \u{1F6D2} Your cart is empty "),b(2,"br"),i(3,"button",10),r(4," Browse products "),o()())}function Lt(n,e){if(n&1){let t=w();i(0,"div",11),b(1,"img",12),i(2,"div",13)(3,"div",14),r(4),o(),i(5,"div",15),r(6),o(),i(7,"div",16),r(8),o()(),i(9,"div",17)(10,"button",18),g("click",function(){let s=x(t).$implicit,l=p();return h(l.decrease(s))}),r(11,"\u2212"),o(),i(12,"span"),r(13),o(),i(14,"button",18),g("click",function(){let s=x(t).$implicit,l=p();return h(l.increase(s))}),r(15,"+"),o()()()}if(n&2){let t=e.$implicit;c(),d("src",t.image,z),c(3),B(t.name),c(2),B(t.quantity),c(2),m("\u20B9",t.price),c(5),B(t.count)}}function At(n,e){if(n&1&&(i(0,"div",19)(1,"div",20)(2,"span"),r(3,"Total"),o(),i(4,"strong"),r(5),o()(),i(6,"button",21),r(7," Proceed to Checkout \u2192 "),o()()),n&2){let t=p();c(5),m("\u20B9",t.totalAmount)}}function jt(n,e){n&1&&(i(0,"div",22)(1,"button",23),r(2," + Add more items "),o()())}var tt=class n{constructor(e,t,a){this.cartService=e;this.orderService=t;this.router=a}cartItems=[];totalAmount=0;ngOnInit(){this.refreshCart()}refreshCart(){this.cartItems=this.cartService.getCartItems(),this.totalAmount=this.cartService.getTotalAmount()}increase(e){this.cartService.increase(e),this.refreshCart()}decrease(e){this.cartService.decrease(e),this.refreshCart()}clearCart(){this.cartService.clearCart(),this.resetProductCounts(),this.refreshCart()}placeOrder(){let e=this.cartItems.map(a=>ct({},a)),t=this.totalAmount;this.orderService.saveOrder(e,t),this.cartService.clearCart(),D.forEach(a=>a.count=0),this.router.navigate(["/success"])}resetProductCounts(){D.forEach(e=>{e.count=0})}static \u0275fac=function(t){return new(t||n)(C(_),C(G),C(M))};static \u0275cmp=u({type:n,selectors:[["app-cart"]],decls:8,vars:5,consts:[[1,"cart-container"],["class","cart-top-bar",4,"ngIf"],[1,"cart-title"],["class","empty-cart",4,"ngIf"],["class","cart-item",4,"ngFor","ngForOf"],["class","checkout-bar",4,"ngIf"],["class","cart-cta",4,"ngIf"],[1,"cart-top-bar"],[1,"clear-btn",3,"click"],[1,"empty-cart"],["routerLink","/home",1,"back-btn","big"],[1,"cart-item"],[1,"cart-image",3,"src"],[1,"cart-info"],[1,"cart-name"],[1,"cart-qty"],[1,"cart-price"],[1,"cart-actions"],[3,"click"],[1,"checkout-bar"],[1,"total-info"],["routerLink","/checkout",1,"checkout-btn"],[1,"cart-cta"],["routerLink","/home",1,"add-more-btn"]],template:function(t,a){t&1&&(i(0,"div",0),f(1,Dt,3,0,"div",1),i(2,"h2",2),r(3,"Your Cart"),o(),f(4,Tt,5,0,"div",3)(5,Lt,16,5,"div",4)(6,At,8,1,"div",5)(7,jt,3,0,"div",6),o()),t&2&&(c(),d("ngIf",a.cartItems.length>0),c(3),d("ngIf",a.cartItems.length===0),c(),d("ngForOf",a.cartItems),c(),d("ngIf",a.cartItems.length>0),c(),d("ngIf",a.cartItems.length>0))},dependencies:[y,N,P,S,k],styles:[".cart-container[_ngcontent-%COMP%]{padding:20px 20px 120px;max-width:600px;margin:auto}.cart-top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#0a7cff;font-weight:600;cursor:pointer}.back-btn.big[_ngcontent-%COMP%]{margin-top:16px;font-size:16px}.clear-btn[_ngcontent-%COMP%]{background:none;border:none;color:#e11d48;font-weight:600;cursor:pointer}.cart-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:20px}.empty-cart[_ngcontent-%COMP%]{text-align:center;color:#777;margin-top:40px}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:14px;padding:12px;margin-bottom:12px;box-shadow:0 6px 16px #00000014}.cart-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain;margin-right:12px}.cart-info[_ngcontent-%COMP%]{flex:1}.cart-name[_ngcontent-%COMP%]{font-weight:600}.cart-qty[_ngcontent-%COMP%]{font-size:12px;color:#555}.cart-price[_ngcontent-%COMP%]{color:#0a7cff;font-weight:600}.cart-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.cart-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:6px;border:none;background:#00b35a;color:#fff;font-size:18px;cursor:pointer}.checkout-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:16px 24px;box-shadow:0 -6px 20px #0000001f;display:flex;justify-content:space-between;align-items:center;max-width:600px;margin:auto;border-radius:16px 16px 0 0}.total-info[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.checkout-btn[_ngcontent-%COMP%]{background:#00b35a;color:#fff;border:none;padding:12px 18px;border-radius:12px;font-weight:600;cursor:pointer}.cart-cta[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:center}.add-more-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:12px;border:2px solid #00b35a;background:#fff;color:#00b35a;font-size:15px;font-weight:700;cursor:pointer;transition:all .2s ease}.add-more-btn[_ngcontent-%COMP%]:hover{background:#00b35a;color:#fff}"]})};var et=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=u({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,a){t&1&&(F(0,"p"),r(1,"dashboard works!"),H())},encapsulation:2})};function Nt(n,e){if(n&1&&(i(0,"div",10)(1,"span"),r(2),o(),i(3,"span"),r(4),o()()),n&2){let t=e.$implicit;c(2),lt("",t.name," \xD7 ",t.count),c(2),m("\u20B9",t.price*(t.count||0))}}var nt=class n{constructor(e,t,a){this.cartService=e;this.orderService=t;this.router=a}cartItems=[];totalAmount=0;name="";phone="";address="";ngOnInit(){this.cartItems=this.cartService.getCartItems(),this.totalAmount=this.cartService.getTotalAmount()}placeOrder(){if(!this.name||!this.phone||!this.address){alert("Please fill all address details");return}this.orderService.saveOrder(this.cartItems,this.totalAmount),this.cartService.clearCart(),D.forEach(e=>{e.count=0}),this.router.navigate(["/success"])}static \u0275fac=function(t){return new(t||n)(C(_),C(G),C(M))};static \u0275cmp=u({type:n,selectors:[["app-checkout"]],decls:20,vars:5,consts:[[1,"checkout-container"],[1,"checkout-title"],[1,"address-card"],["type","text","placeholder","Full Name",3,"ngModelChange","ngModel"],["type","tel","placeholder","Phone Number",3,"ngModelChange","ngModel"],["rows","3","placeholder","Full Address",3,"ngModelChange","ngModel"],[1,"summary-card"],["class","summary-item",4,"ngFor","ngForOf"],[1,"summary-total"],[1,"place-order-btn",3,"click"],[1,"summary-item"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"h2",1),r(2,"Checkout"),o(),i(3,"div",2)(4,"h3"),r(5,"Delivery Address"),o(),i(6,"input",3),j("ngModelChange",function(l){return A(a.name,l)||(a.name=l),l}),o(),i(7,"input",4),j("ngModelChange",function(l){return A(a.phone,l)||(a.phone=l),l}),o(),i(8,"textarea",5),j("ngModelChange",function(l){return A(a.address,l)||(a.address=l),l}),o()(),i(9,"div",6)(10,"h3"),r(11,"Order Summary"),o(),f(12,Nt,5,3,"div",7),i(13,"div",8)(14,"strong"),r(15,"Total"),o(),i(16,"strong"),r(17),o()()(),i(18,"button",9),g("click",function(){return a.placeOrder()}),r(19," Place Order "),o()()),t&2&&(c(6),L("ngModel",a.name),c(),L("ngModel",a.phone),c(),L("ngModel",a.address),c(4),d("ngForOf",a.cartItems),c(5),m("\u20B9",a.totalAmount))},dependencies:[y,N,Y,U,q,W,S],styles:[".checkout-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:24px}.checkout-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.address-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 16px #00000014;margin-bottom:20px}.address-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px}.address-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .address-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:12px;border-radius:10px;border:1px solid #ccc}.summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 16px #00000014;margin-bottom:20px}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:14px}.summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;margin-top:12px}.place-order-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:#00b35a;color:#fff;border:none;border-radius:14px;font-size:16px;font-weight:700;cursor:pointer}"]})};var it=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=u({type:n,selectors:[["app-order-success"]],decls:13,vars:0,consts:[[1,"success-container"],[1,"success-card"],[1,"success-icon"],[1,"success-actions"],["routerLink","/home",1,"btn","primary"],["routerLink","/orders",1,"btn","secondary"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"\u2705"),o(),i(4,"h1"),r(5,"Order Placed Successfully"),o(),i(6,"p"),r(7,"Your groceries will be delivered soon \u{1F680}"),o(),i(8,"div",3)(9,"button",4),r(10," Add More Items "),o(),i(11,"button",5),r(12," View Orders "),o()()()())},dependencies:[S,k],styles:[".success-container[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);display:flex;justify-content:center;align-items:center}.success-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:20px;text-align:center;box-shadow:0 12px 30px #0000001a;max-width:420px;width:100%}.success-icon[_ngcontent-%COMP%]{font-size:60px;margin-bottom:20px}.success-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.success-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin-bottom:30px}.success-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.btn[_ngcontent-%COMP%]{padding:12px 20px;border-radius:10px;font-weight:600;border:none;cursor:pointer}.btn.primary[_ngcontent-%COMP%]{background:#00b35a;color:#fff}.btn.secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333}"]})};var ot=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return this.auth.isLoggedIn()?!0:(this.router.navigate(["/home"]),!1)}static \u0275fac=function(t){return new(t||n)(O(I),O(M))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})};var rt=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){let e=this.auth.getCurrentUser();return e&&e.email.endsWith("@admin.com")?!0:(this.router.navigate(["/home"]),!1)}static \u0275fac=function(t){return new(t||n)(O(I),O(M))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})};var ht=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:X},{path:"cart",component:tt},{path:"orders",component:xt},{path:"checkout",component:nt},{path:"success",component:it},{path:"orders",canActivate:[ot],loadComponent:()=>import("./chunk-DMQBXTS3.js").then(n=>n.OrdersComponent)},{path:"login",component:Z},{path:"admin/orders",canActivate:[rt],loadComponent:()=>import("./chunk-MTTGR37Q.js").then(n=>n.AdminOrdersComponent)},{path:"admin",component:et},{path:"**",redirectTo:"home"}];var Ct={providers:[ft(ht),ut()]};mt($,Ct).catch(n=>console.error(n));
