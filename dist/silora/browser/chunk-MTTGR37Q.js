import{$b as h,Aa as d,Gb as O,Hb as S,La as f,Ra as v,Wa as s,ac as C,bc as b,ca as c,cc as E,da as u,db as a,eb as e,fb as i,ic as I,mb as x,ob as _,pb as p,xb as n,yb as l,zb as g}from"./chunk-ESGGRFI3.js";function T(o,r){o&1&&(e(0,"div"),n(1,"Loading\u2026"),i())}function w(o,r){if(o&1){let t=x();e(0,"tr")(1,"td"),n(2),O(3,"date"),i(),e(4,"td"),n(5),i(),e(6,"td"),n(7),i(),e(8,"td"),n(9),i(),e(10,"td")(11,"select",2),_("change",function(A){let D=c(t).$implicit,M=p(2);return u(M.updateStatus(D,A.target.value))}),e(12,"option"),n(13,"Delivered"),i(),e(14,"option"),n(15,"Cancelled"),i(),e(16,"option"),n(17,"Returned"),i()()()()}if(o&2){let t=r.$implicit;d(2),l(S(3,5,t.date,"short")),d(3),l(t.id),d(2),g("\u20B9",t.total),d(2),l(t.status),d(2),a("value",t.status)}}function F(o,r){if(o&1&&(e(0,"table")(1,"thead")(2,"tr")(3,"th"),n(4,"Date"),i(),e(5,"th"),n(6,"Order ID"),i(),e(7,"th"),n(8,"Total"),i(),e(9,"th"),n(10,"Status"),i(),e(11,"th"),n(12,"Action"),i()()(),e(13,"tbody"),s(14,w,18,8,"tr",1),i()()),o&2){let t=p();d(14),a("ngForOf",t.orders)}}var y=class o{constructor(r){this.orderService=r}orders=[];loading=!0;ngOnInit(){this.orderService.getOrders().subscribe(r=>{this.orders=r,this.loading=!1})}updateStatus(r,t){r.status=t,this.orderService.updateOrder(r).subscribe()}static \u0275fac=function(t){return new(t||o)(f(I))};static \u0275cmp=v({type:o,selectors:[["app-admin-orders"]],decls:4,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"change","value"]],template:function(t,m){t&1&&(e(0,"h2"),n(1,"Admin \u2013 Orders"),i(),s(2,T,2,0,"div",0)(3,F,15,1,"table",0)),t&2&&(d(2),a("ngIf",m.loading),d(),a("ngIf",!m.loading))},dependencies:[E,h,C,b],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #eee}"]})};export{y as AdminOrdersComponent};
